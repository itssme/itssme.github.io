<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<script>
    latin_data = [
        ["a posteriori", "im Nachhinein"],
        ["a priori", "von vornherein"],
        ["a verbis legis non est recedendum", "von den Worten des Gesetzes ist nicht abzugehen"],
        ["ab initio", "von Anfang an"],
        ["ab initio nullum semper nullum", "anfangs nichtig, immer nichtig"],
        ["ab intestato", "vom Testtamentslosen"],
        ["ab urbe condita", "ab Günderung der Stadt"],
        ["aberratio ictus", "Abirren des Schlages"],
        ["abolitio", "Aufhebung"],
        ["abrogatio", "Abschaffung"],
        ["absolutio", "Freisprechung"],
        ["absolutus sententia iudicis praesumitur innocens", "wer durch Gerichtsurteil freigesprochen worden ist] gilt als unschuldig"],
        ["abusus non tollit usum", "Missbrauch hebt ein Gebrauchsrecht nicht auf"],
        ["abusus", "Missbrauch"],
        ["acceptilatio", "förmliche Bestätigung der Erfüllung einer Stipulationsschuld"],
        ["accessio cedit principali", "die Nebensache teilt notwendig das Schicksal der Hauptsache"],
        ["accessio", "Zuwachs, das Hinzukommen, Hinzufügen"],
        ["accidentalia negotii", "Nebenbestimmungen eines Vertrags"],
        ["accusatio suspecti tutoris", "Anklage gegen einen verdächtigen Vormund, dem ein Treueverstoß vorgeworfen wird"],
        ["accusatio", "Anklage"],
        ["acquisitio hereditatis", "Erbschaftserwerb"],
        ["acquisitio", "Erwerb"],
        ["acta publica probant se ipsa", "öffentliche Akte beweisen sich selbst"],
        ["actio ad exhibendum", "Klage auf Vorweisung"],
        ["actio annalis", "einjährig befristetes Klagerecht"],
        ["actio auctoritatis", "Gewährschaftsklage"],
        ["actio certae creditae pecuniae", "Klage des bestimmten anvertraueten Geldes"],
        ["actio conducti", "Klage des Mieters"],
        ["actio confessoria", "Klage des Servitutsberechtigten"],
        ["actio contrario", "Wiederklage],Gegenklage des Nebenansrpuchsberechtigten"],
        ["actio de dolo/ actio doli", "Schadenersatzklage"],
        ["actio directa", "Hauptklage, direkte Klage des Haupanspruchsberechtigten"],
        ["actio empti", "Klage (des Käufers) aus dem Kaufvertrag"],
        ["actio ex stipulatu", "Klage aufgrund eines Schuldversprechens"],
        ["actio ex testamento", "Klage, die sich auf ein Testament gründet"],
        ["actio furti", "Diebstahlsklage"],
        ["actio in personam", "Klage gegen eine bestimmte Person"],
        ["actio in rem", "Klage auf eine Sache"],
        ["actio iniuriarum", "Klage wegen Persönlichkeitsverletzung"],
        ["actio locati", "Klage des Vermieters"],
        ["actio mandati", "Klage des Auftraggebers aus dem Auftragsvertrag"],
        ["actio mandati contrario", "(Gegen-)klage des Beauftragten aus dem Auftragsvertrag"],
        ["actio negatoria", "Eigentumsfreiheitsklage"],
        ["actio negotorium gestorum", "Klage aus der Geschäftsführung ohne Auftrag"],
        ["actio perpetua", "unbefristetes Klagerecht"],
        ["actio poenalis", "Strafklage (Klage auf Buße)"],
        ["actio publiciana", "publizianische Klage"],
        ["actuo quanti minoris", "Minderungslklage"],
        ["actio redhibitoria", "Wandlungsklage"],
        ["actio semel extincta non reviviscit", "eine einmal erloschener Anspruch lebt nicht wieder auf"],
        ["actio utilis", "verwendbar, brauchbar gemachte Klage"],
        ["actio venditi", "Klage des Verkäufers"],
        ["actio", "Handlung(en)/ Klage(n)"],
        ["actiones noxales", "Noxalklage"],
        ["actor sequitur forum rei", "der Kläger folgt dem Gerichtsstand des Beklagten"],
        ["actor", "Kläger/ Ankläger/ Verwalter/ Geschäftsführer"],
        ["actori incumbit onus probandi", "dem Kläger obliegt die Beweislast"],
        ["actus", "Recht, sein Vieh über fremden Grund zu treiben - Feldservitut"],
        ["ad absurdum", "gründlich widerlegen"],
        ["ad acta", "zu den Akten"],
        ["ad hoc", "zu diesem - diesen Fall betreffend"],
        ["ad infinitum", "bis ins Unendliche"],
        ["ad libitum", "nach Belieben, beliebig"],
        ["ad usum", "zum Gebrauch"],
        ["addictio", "prätorische Zusage, Zusprechen durch den Prätor"],
        ["aditio hereditatis", "Erbschaftsantritt/ Erbschaftsannahme"],
        ["aditio", "Antritt"],
        ["adiudicatio", "richterlicher Zuspruch durch Urteil"],
        ["adoptio imitatur naturam", "die Adoption ahmt die Natur nach"],
        ["adulterium", "Ehebruch"],
        ["advocatus", "Rechtsbeistand, Rechtsanwalt, Anwalt"],
        ["aedes", "Gebäude"],
        ["aequitas", "Billigkeit"],
        ["aequum est enim ut cuis participativ lucrum participet et damnum", "es ist gerecht, dass derjenige, der den Nutzen (aus etwas) zieht, auch an dem (daraus resultierenden) Schaden beteiligt sein soll"],
        ["aerarium", "die Staatskasse, das Staatsvermögen"],
        ["aes alienum", "'fremdes Geld' = Schulden"],
        ["aestimatio", "Schätzung"],
        ["aetas", "Lebensalter, Zeitalter"],
        ["affectus", "Zustand, Leidenschaft, Begierde"],
        ["agere in fraudem legis", "unter Umgehung des Gesetzes handeln"],
        ["agnatus proximus", "der nächste Blutsverwandte"],
        ["alieno facto ius alterius non mutatur", "durch eine fremde Tat wird das Recht eines anderen nicht verändert"],
        ["alieno nomine", "in fremdem Namen"],
        ["alius", "etwas anderes"],
        ["alius m., alia f., aliud n.", "ein anderer, eine andere, etwas anderes"],
        ["alluvio", "Anschwemmung von Erde, Landanschwemmung durch Flüsse"],
        ["alma mater", "nährende Mutter"],
        ["altera pars", "die Gegenpartei - der 'andere Teil'"],
        ["alteri stipulari nemo potest", "niemand kann sich für einen anderen etwas versprechen lassen"],
        ["ambiguitas contra stipulatorem", "Zweideutigkeit (wirkt) gegen den Stipulator"],
        ["ambiguitas", "Zwei-, Mehrdeutigkeit"],
        ["animus domini", "der Wille, eine Sache als die seine, (als Eigentümer) für sich zu behalten"],
        ["animus donandi", "Schenkungswille, -absicht"],
        ["animus negotii alieni gerendi", "Absicht, für einen anderen ein Geschäft zu führen"],
        ["animus novandi", "Erneurungsabsicht, -wille"],
        ["animus obligandi", "Verpflichtungswille"],
        ["animus possidendi", "Besitzwille"],
        ["animus rem alteri habendi", "der Wille, eine Sache für einen anderen innezuhaben"],
        ["animus rem sibi hanbendi", "Besitzwille"],
        ["animus", "Absicht, Wille (der Handelnden)"],
        ["annus", "Jahr"],
        ["appellatio", "Berufung"],
        ["approbatio", "Bestätigung, Billigung"],
        ["aquae ductur", "das Recht, eine Wasserleitung über ein fremdes Grundstück zu führen (Feldservitut)"],
        ["arbitrium iudicis", "richterliches Ermessen"],
        ["arbitrium", "Schiedsspruch"],
        ["argumenta non sunt numeranda sed ponderanda", "die Gründe sind nicht abzuzählen, sondern zu Gewichten"],
        ["argumentum a maiori ad minus", "Schlussfolderung vom Größeren auf das Kleine"],
        ["argumentum a minori ad maius", "Schlussfolderung vom Kleineren auf das Größere"],
        ["argumentum e contrario", "Umkehrschluss"],
        ["argumentum", "Beweismittel, Beweisgrund, Merkmal"],
        ["assignatio", "Anweisung"],
        ["auctor", "Gewährsmann, Gewährleister, Urheber, Rechtsvorgänger"],
        ["auctoritas", "Macht, Ansehen, Autorität, Gewähr, Bürgschaft, Gültigkeit"],
        ["audiatur et altera pars", "es möge auch der andere Teil gehört werden"],
        ["beati possidentes", "Glücklich die Besitzenden"],
        ["bella gerant alii, tu, felix, Austria, nube!", "Andere mögen Krieg führend, du, glückliches Österreich, heirate!"],
        ["bellum defensivum", "Verteidigungskrieg"],
        ["bellum gerere", "Krieg führen"],
        ["bellum", "Krieg"],
        ["beneficium", "(Rechts-)Wohltat, Vergünstigung"],
        ["bilateralis/ unilateralis", "zweiseitig/ einseitig"],
        ["bono fide", "gutgläubig, redlich"],
        //["", ""],
    ]

    statistics = {
        // number of correctly answered questions
        "correct": 0,
        // number of wrongly answered questions
        "wrong": 0,
        // number of correct or wrong answers per word: {id: [correct, wrong]}
        "per_word": {}
    }

    console.log(`Loaded ${Object.keys(latin_data).length} words.`)

    function display_new_exercise() {
        document.getElementById("content_component").innerHTML = get_new_exercise();
    }

    var correct_answer = -1;

    function get_new_exercise() {
        let questions = "";
        let answers = [];

        // select one random question
        correct_answer = Math.floor(Math.random() * Object.keys(latin_data).length);
        correct_answer = 1;
        answers.push(correct_answer);

        // select 3 random answers
        while (answers.length < 4) {
            let random_answer = Math.floor(Math.random() * Object.keys(latin_data).length);
            if (!answers.includes(random_answer)) {
                answers.push(random_answer);
            }
        }

        // shuffle answers
        answers = shuffle(answers);

        // generate questions html
        for (let i = 0; i < answers.length; i++) {
            questions += get_radio_element(answers[i]);
        }

        template = `
<h3 class="mb-6 font-extrabold text-gray-900 text-5xl">${latin_data[correct_answer][0]}</h3>
<ul class="w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg">
    ${questions}
</ul>
<button id="check_answer_button" class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
    onclick="check_answer()">Bestätigen
</button>
`
        return template;
    }

    function get_radio_element(id) {
        return `
<li class="w-full border-b border-gray-200 rounded-t-lg dark:border-gray-600">
    <div id="${id}_container" class="flex items-center pl-3 p-2">
        <input id="${id}" type="radio" value="" name="list-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
        <label for="${id}" class="w-full py-3 ml-2 text-lg font-semibold text-gray-900">${latin_data[id][1]}</label>
     </div>
</li>`
    }

    function set_list_item_as_correct_answer(id) {
        document.getElementById(`${id}_container`).classList.add("bg-green-500");
    }

    function set_list_item_as_wrong_answer(id) {
        document.getElementById(`${id}_container`).classList.add("bg-red-500");
    }

    function update_statistics_answer(correct) {
        if (correct) {
            statistics["correct"] += 1;
            if (Object.keys(statistics["per_word"]).includes(correct_answer.toString())) {
                statistics["per_word"][correct_answer][0] += 1;
            } else {
                statistics["per_word"][correct_answer] = [1, 0];
            }
        } else {
            statistics["wrong"] += 1;
            if (Object.keys(statistics["per_word"]).includes(correct_answer.toString())) {
                statistics["per_word"][correct_answer][1] += 1;
            } else {
                statistics["per_word"][correct_answer] = [0, 1];
            }
        }
    }

    function check_answer() {
        let answer = parseInt(document.querySelector('input[name="list-radio"]:checked').id);

        if (answer === correct_answer) {
            set_list_item_as_correct_answer(answer);
            update_statistics_answer(true);
        } else {
            set_list_item_as_correct_answer(correct_answer);
            set_list_item_as_wrong_answer(answer);
            update_statistics_answer(false);
        }

        document.getElementById("check_answer_button").textContent = "Weiter";
        document.getElementById("check_answer_button").onclick = display_new_exercise;
    }

    // if user presses enter, click the check_answer button
    document.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            document.getElementById("check_answer_button").click();
        }
    });

</script>

<div id="background_component" class="center absolute left-0 top-0 flex h-screen w-screen justify-center bg-blue-500">
    <div class="center m-auto flex justify-center">
        <div id="content_component" class="rounded-lg bg-indigo-400 bg-opacity-75 p-10 text-center">
            <div id="welcome_text" class="text-5xl font-extrabold pb-3">Latein Test</div>
            <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
                    onclick="display_new_exercise()">Training Modus
            </button>
        </div>
    </div>
</div>

<style>
    .bg-animation {
        background: radial-gradient(circle, #4285f4, #0f3057);
        background-size: 200% 200%;
        animation: be_right_back_backgroundLoop 10s infinite linear;
    }

    @keyframes be_right_back_backgroundLoop {
        0% {
            background-position: 50% 50%;
            background-color: #4285f4; /* Initial blue color */
        }
        50% {
            background-position: 100% 100%;
            background-color: #0f3057; /* Darker blue color */
        }
        100% {
            background-position: 50% 50%;
            background-color: #4285f4; /* Back to initial blue color */
        }
    }
</style>

<script>
    // Apply the background animation to the component
    function be_right_back_animateBackground() {
        const component = document.getElementById('background_component');
        component.classList.add('bg-animation');
    }

    be_right_back_animateBackground();
</script>

<script>
    function shuffle(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex > 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [
                array[randomIndex], array[currentIndex]];
        }

        return array;
    }
</script>
</body>
</html>
