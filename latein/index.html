<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body onload="display_main_menu()">
<script>
    latin_data = [
        ["a posteriori", "im Nachhinein"],
        ["a priori", "von vornherein"],
        ["a verbis legis non est recedendum", "von den Worten des Gesetzes ist nicht abzugehen"],
        ["ab initio", "von Anfang an"],
        ["ab initio nullum semper nullum", "anfangs nichtig, immer nichtig"],
        ["ab intestato", "vom Testtamentslosen"],
        ["ab urbe condita", "ab Günderung der Stadt"],
        ["aberratio ictus", "Abirren des Schlages"],
        ["abolitio", "Aufhebung"],
        ["abrogatio", "Abschaffung"],
        ["absolutio", "Freisprechung"],
        ["absolutus sententia iudicis praesumitur innocens", "wer durch Gerichtsurteil freigesprochen worden ist, gilt als unschuldig"],
        ["abusus non tollit usum", "Missbrauch hebt ein Gebrauchsrecht nicht auf"],
        ["abusus", "Missbrauch"],
        ["acceptilatio", "förmliche Bestätigung der Erfüllung einer Stipulationsschuld"],
        ["accessio cedit principali", "die Nebensache teilt notwendig das Schicksal der Hauptsache"],
        ["accessio", "Zuwachs, das Hinzukommen, Hinzufügen"],
        ["accidentalia negotii", "Nebenbestimmungen eines Vertrags"],
        ["accusatio suspecti tutoris", "Anklage gegen einen verdächtigen Vormund, dem ein Treueverstoß vorgeworfen wird"],
        ["accusatio", "Anklage"],
        ["acquisitio hereditatis", "Erbschaftserwerb"],
        ["acquisitio", "Erwerb"],
        ["acta publica probant se ipsa", "öffentliche Akte beweisen sich selbst"],
        ["actio ad exhibendum", "Klage auf Vorweisung"],
        ["actio annalis", "einjährig befristetes Klagerecht"],
        ["actio auctoritatis", "Gewährschaftsklage"],
        ["actio certae creditae pecuniae", "Klage des bestimmten anvertraueten Geldes"],
        ["actio conducti", "Klage des Mieters"],
        ["actio confessoria", "Klage des Servitutsberechtigten"],
        ["actio contrario", "Wiederklage,Gegenklage des Nebenansrpuchsberechtigten"],
        ["actio de dolo/ actio doli", "Schadenersatzklage"],
        ["actio directa", "Hauptklage, direkte Klage des Haupanspruchsberechtigten"],
        ["actio empti", "Klage (des Käufers) aus dem Kaufvertrag"],
        ["actio ex stipulatu", "Klage aufgrund eines Schuldversprechens"],
        ["actio ex testamento", "Klage, die sich auf ein Testament gründet"],
        ["actio furti", "Diebstahlsklage"],
        ["actio in personam", "Klage gegen eine bestimmte Person"],
        ["actio in rem", "Klage auf eine Sache"],
        ["actio iniuriarum", "Klage wegen Persönlichkeitsverletzung"],
        ["actio locati", "Klage des Vermieters"],
        ["actio mandati", "Klage des Auftraggebers aus dem Auftragsvertrag"],
        ["actio mandati contrario", "(Gegen-)klage des Beauftragten aus dem Auftragsvertrag"],
        ["actio negatoria", "Eigentumsfreiheitsklage"],
        ["actio negotorium gestorum", "Klage aus der Geschäftsführung ohne Auftrag"],
        ["actio perpetua", "unbefristetes Klagerecht"],
        ["actio poenalis", "Strafklage (Klage auf Buße)"],
        ["actio publiciana", "publizianische Klage"],
        ["actuo quanti minoris", "Minderungslklage"],
        ["actio redhibitoria", "Wandlungsklage"],
        ["actio semel extincta non reviviscit", "eine einmal erloschener Anspruch lebt nicht wieder auf"],
        ["actio utilis", "verwendbar, brauchbar gemachte Klage"],
        ["actio venditi", "Klage des Verkäufers"],
        ["actio", "Handlung(en)/ Klage(n)"],
        ["actiones noxales", "Noxalklage"],
        ["actor sequitur forum rei", "der Kläger folgt dem Gerichtsstand des Beklagten"],
        ["actor", "Kläger/ Ankläger/ Verwalter/ Geschäftsführer"],
        ["actori incumbit onus probandi", "dem Kläger obliegt die Beweislast"],
        ["actus", "Recht, sein Vieh über fremden Grund zu treiben - Feldservitut"],
        ["ad absurdum", "gründlich widerlegen"],
        ["ad acta", "zu den Akten"],
        ["ad hoc", "zu diesem - diesen Fall betreffend"],
        ["ad infinitum", "bis ins Unendliche"],
        ["ad libitum", "nach Belieben, beliebig"],
        ["ad usum", "zum Gebrauch"],
        ["addictio", "prätorische Zusage, Zusprechen durch den Prätor"],
        ["aditio hereditatis", "Erbschaftsantritt/ Erbschaftsannahme"],
        ["aditio", "Antritt"],
        ["adiudicatio", "richterlicher Zuspruch durch Urteil"],
        ["adoptio imitatur naturam", "die Adoption ahmt die Natur nach"],
        ["adulterium", "Ehebruch"],
        ["advocatus", "Rechtsbeistand, Rechtsanwalt, Anwalt"],
        ["aedes", "Gebäude"],
        ["aequitas", "Billigkeit"],
        ["aequum est enim ut cuis participativ lucrum participet et damnum", "es ist gerecht, dass derjenige, der den Nutzen (aus etwas) zieht, auch an dem (daraus resultierenden) Schaden beteiligt sein soll"],
        ["aerarium", "die Staatskasse, das Staatsvermögen"],
        ["aes alienum", "'fremdes Geld' = Schulden"],
        ["aestimatio", "Schätzung"],
        ["aetas", "Lebensalter, Zeitalter"],
        ["affectus", "Zustand, Leidenschaft, Begierde"],
        ["agere in fraudem legis", "unter Umgehung des Gesetzes handeln"],
        ["agnatus proximus", "der nächste Blutsverwandte"],
        ["alieno facto ius alterius non mutatur", "durch eine fremde Tat wird das Recht eines anderen nicht verändert"],
        ["alieno nomine", "in fremdem Namen"],
        ["alius", "etwas anderes"],
        ["alius m., alia f., aliud n.", "ein anderer, eine andere, etwas anderes"],
        ["alluvio", "Anschwemmung von Erde, Landanschwemmung durch Flüsse"],
        ["alma mater", "nährende Mutter"],
        ["altera pars", "die Gegenpartei - der 'andere Teil'"],
        ["alteri stipulari nemo potest", "niemand kann sich für einen anderen etwas versprechen lassen"],
        ["ambiguitas contra stipulatorem", "Zweideutigkeit (wirkt) gegen den Stipulator"],
        ["ambiguitas", "Zwei-, Mehrdeutigkeit"],
        ["animus domini", "der Wille, eine Sache als die seine, (als Eigentümer) für sich zu behalten"],
        ["animus donandi", "Schenkungswille, -absicht"],
        ["animus negotii alieni gerendi", "Absicht, für einen anderen ein Geschäft zu führen"],
        ["animus novandi", "Erneurungsabsicht, -wille"],
        ["animus obligandi", "Verpflichtungswille"],
        ["animus possidendi", "Besitzwille"],
        ["animus rem alteri habendi", "der Wille, eine Sache für einen anderen innezuhaben"],
        ["animus rem sibi hanbendi", "Besitzwille"],
        ["animus", "Absicht, Wille (der Handelnden)"],
        ["annus", "Jahr"],
        ["appellatio", "Berufung"],
        ["approbatio", "Bestätigung, Billigung"],
        ["aquae ductur", "das Recht, eine Wasserleitung über ein fremdes Grundstück zu führen (Feldservitut)"],
        ["arbitrium iudicis", "richterliches Ermessen"],
        ["arbitrium", "Schiedsspruch"],
        ["argumenta non sunt numeranda sed ponderanda", "die Gründe sind nicht abzuzählen, sondern zu Gewichten"],
        ["argumentum a maiori ad minus", "Schlussfolderung vom Größeren auf das Kleine"],
        ["argumentum a minori ad maius", "Schlussfolderung vom Kleineren auf das Größere"],
        ["argumentum e contrario", "Umkehrschluss"],
        ["argumentum", "Beweismittel, Beweisgrund, Merkmal"],
        ["assignatio", "Anweisung"],
        ["auctor", "Gewährsmann, Gewährleister, Urheber, Rechtsvorgänger"],
        ["auctoritas", "Macht, Ansehen, Autorität, Gewähr, Bürgschaft, Gültigkeit"],
        ["audiatur et altera pars", "es möge auch der andere Teil gehört werden"],
        ["beati possidentes", "Glücklich die Besitzenden"],
        ["bella gerant alii, tu, felix, Austria, nube!", "Andere mögen Krieg führend, du, glückliches Österreich, heirate!"],
        ["bellum defensivum", "Verteidigungskrieg"],
        ["bellum gerere", "Krieg führen"],
        ["bellum", "Krieg"],
        ["beneficium", "(Rechts-)Wohltat, Vergünstigung"],
        ["bilateralis/ unilateralis", "zweiseitig/ einseitig"],
        ["bono fide", "gutgläubig, redlich"],
        ["bona fides", "die 'gute Treue' - der gute Glaube"],
        ["bona fides praesumitur", "der gute Glaube wird vermutet"],
        ["bonae fidei possessor", "Besitzer guten Glaubens"],
        ["boni mores", "die guten Sitten"],
        ["bonorum possessio", "Erbschaftsbesitz"],
        ["bonorum possessor", "Erbschaftsbesitzer"],
        ["bonum commune", "Gemeinwohl"],
        ["bonum publicum", "Staatswohl"],
        ["bonum", "das Gute"],
        ["capacitas", "Fähigkeit"],
        ["capitis deminutio", "Änderung bzw Schmälerung der Rechtsfähigkeit"],
        ["capitis deminutio maxima", "Verlust der Freihait"],
        ["caput", "Haupt, Kopf"],
        ["casum sentit dominus", "den Zufall spürt der Herr (Eigentümer)"],
        ["casus", "Fall, Zufall"],
        ["causa cognita", "nahc Untersuchung des Falles"],
        ["causa", "Ursache, (Rechts)grund, Titel"],
        ["cautela abundans non nocet", "übertriebene Vorsicht schadet nicht"],
        ["cautio", "(Versprechen zur) Sicherheitsleistung, Kaution"],
        ["caveat emptor", "der Käufer sei auf der Hut"],
        ["certa pecunia", "eine bestimmte Geldsumme, ein bestimmtes Vermögen"],
        ["certum dare", "eine bestimmte Sache leisten"],
        ["certum", "das (genau) Bestimmte, das Sichere"],
        ["cessante occasione legis non cessat lex ipsa", "bei Wegfall des äußeren Anlasses für ein Gesetz hört das Gesetz nicht zu wirken auf"],
        ["cessante ratione cessat lex ipsa", "fällt der Zweck eines Gesetzes weg, fällt das Gesetz selbst weg"],
        ["cessante ratione legis cessat lex ipsa", "bei Wegfall des Zweckes bzw inneren Grundes eines Gesetzes hört auch die Wirksamkeit des Gesetzes auf"],
        ["cessio legis", "gesetzliche Forderungsübergang, Übergang einer Forderung auf eine andere Person aufgrund des Gesetzes"],
        ["cessio voluntario", "freiwillige Abtretung"],
        ["cessio", "Forderungsabtretung"],
        ["circumscriptio", "Übervorteilung"],
        ["civis", "der (römische) Bürger"],
        ["clientes", "Hörige, Schutzbefohlene"],
        ["coactio non est imputabilis", "Zwang ist nicht zurechenbar"],
        ["codex", "Gesetzbuch, Gesetzessammlung"],
        ["cogitationis poenam nemo patitur", "wegen bloßer Gedanken wird niemand bestraft"],
        ["cognatio", "Blutsverwandtschaft, Kognation"],
        ["cognitio", "Erkenntnis"],
        ["collatio bonorum", "Einbringung es Vermögens"],
        ["collatio dotis", "Einbringung der Mitgift"],
        ["color insaniae", "Anschein des Wahnsinns"],
        ["commercium", "Rechtsverkehr, Handel"],
        ["commixtio", "Vermengen von festen Stoffen"],
        ["commodatum", "Leihe, Leihvertrag"],
        ["commodum", "Nutzen, Vorteil"],
        ["communio", "Gemeinschaft"],
        ["communis opinio", "(allgemein) herrschende Meinung"],
        ["communis opinio facit ius", "die übereinstimmende Meinung schafft Recht"],
        ["compensatio", "Aufrechnung, Kompensation, Abrechnung, Ausgleichung"],
        ["compromissum", "Schiedsvertrag"],
        ["concilium repraesentat mentem populi", "die Versammlung (der Abgeordneten) vertritt den Wille des Volkes"],
        ["concilium", "Versammlung"],
        ["conclusio", "logischer Schluss/ logische Schlussfolgerung"],
        ["condemnatio pecuniaria", "Geldverurteilung"],
        ["condemnatio", "Verurteilung"],
        ["condicio iuris", "Rechtsbedingung"],
        ["condicio pendet", "die Bedingung 'schwebt'/ die Bedingung 'hängt'"],
        ["condicio sine qua non", "'Bedingung ohne die nicht'"],
        ["condictio causa data causa non secuta", "Rückforderung wegen Nichteintreffens des Rechtsgrundes, auf den hin geleistet wurde"],
        ["condictio indebiti", "Rückforderung des Ungeschuldeten"],
        ["condictio liberationis", "Klage auf die Befreiung von einer Verpflichtung"],
        ["condictio ob causam finitam", "Rückforderung wegen Wegfall des Rechtsgrundes"],
        ["condictio ob iniustam causam", "Rückforderung wegen eines rechtswidrigen Grundes"],
        ["condictio ob turpem causam", "Rückforderung wegen eines sittenwidrigen Grundes"],
        ["condictio possessionis", "Klage auf Rückübertragung des Besitzes"],
        ["condictio sine causam", "Rückforderung 'ohne Grund'"],
        ["condictio", "Rückforderung"],
        ["condominium", "Miteigentum"],
        ["confessio est regina probationum", "das Geständnis ist die Königin der Beweismittel"],
        ["confessio non est probatio", "ein Geständnis ist kein Beweis"],
        ["confessio pro veritate accipitur", "das Geständnis wird als Wahrheit angesehen"],
        ["confessio", "Geständnis, Anerkennung"],
        ["confessus pro iudicator habetur", "der Geständige wird für verurteilt gehalten"],
        ["confirmatio", "Bestätigung"],
        ["confusio", "Vereinigung, Vermischung"],
        ["consensu contractur", "durch Willensübereinstimmung geschlossen"],
        ["consensus facit nuptias", "die Willensübereinstimmung schafft die Ehe"],
        ["consensus", "Willensübereinstimmung"],
        ["consilium", "Überlegung, Ratschlag, Rat (als Kollegium)"],
        ["consortium", "(Erben-)Gemeinschaft"],
        ["constitutum possessorium", "Besitzkonstitut"],
        ["constitutum", "Verabredung, Verfügung, Verordnung"],
        ["consuetudo", "Gewohnheit/ Gewohnheitsrecht"],
        ["consultum", "Beschluss (vom Senat) 'Rat'"],
        ["contra", "gegen, anderer Meinung"],
        ["contra bonos mores", "gegen die guten Sitten"],
        ["contra facta non valent argumenta", "gegenüber vorliegenden Tatsachen vermögen Argumente nichts"],
        ["contra legem", "gegen das Gesetz"],
        ["contra rem iudicatam nemo audietur", "nach Rechtskraft der Sache wird niemand mehr gehört werden"],
        ["contra vim non valet ius", "gegen Gewalt hat das Recht keine Macht"],
        ["contractus bilaterales aequales", "Vollkommen zweiseitiger Vertrag, synallagmatischer Vertrag"],
        //["", ""],
    ]

    statistics = {
        // number of correctly answered questions
        "correct": 0,
        // number of wrongly answered questions
        "wrong": 0,
        // number of correct or wrong answers per word: {id: [correct, wrong]}
        "per_word": {},
        // list of words that were answered wrong
        "previous_mistakes": [],
        // queue of words that were answered wrong, and should appear again in the questions
        "current_mistakes": [],
    }

    question_lower_bound = 0;
    question_upper_bound = latin_data.length - 1;

    console.log(`Loaded ${Object.keys(latin_data).length} words.`)

    function display_new_exercise() {
        document.getElementById("content_component").innerHTML = get_new_exercise();
    }

    function display_new_vocals() {
        // select one random question out of a range of new vocals
    }

    function display_settings() {
        document.getElementById("content_component").innerHTML = `
<div class="text-5xl font-extrabold pb-3">Einstellungen</div>
<div class="flex flex-col">
    <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
        onclick="display_vocal_list('display_settings', true)">Vokabel Liste
    </button>
    <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
        onclick="display_main_menu()">Zurück
    </button>
</div>`;
    }

    function display_vocal_list(previous_function, lower_upper_bound_changeable) {
        let word_list = `
            <div class="text-4xl font-extrabold text-center">ID</div>
            <div class="text-4xl font-extrabold text-start">Latein</div>
            <div class="text-4xl font-extrabold text-start">Deutsch</div>
            <div class="my-2 h-1 w-full bg-black col-span-3"></div>`;

        for (let i = 0; i < latin_data.length; i++) {
            let word_template = `
            <div class="text-2xl font-extrabold text-center">${i}</div>
            <div class="text-2xl font-extrabold text-start">${latin_data[i][0]}</div>
            <div class="text-2xl font-extrabold text-start">${latin_data[i][1]}</div>
            <div class="my-2 h-1 w-full bg-black col-span-3"></div>`
            word_list += word_template;
        }

        let upper_bound_input = ``;
        let lower_bound_input = ``;

        if (lower_upper_bound_changeable) {
            upper_bound_input = `
<div class="bg-white border border-gray-200 rounded-lg mx-6" data-hs-input-number>
  <div class="w-full flex justify-between items-center gap-x-1">
    <div class="grow py-2 px-3">
      <span class="block text-xs text-gray-500">
        Von hier weg Fragen
      </span>
      <input id="lower_bound_input" class="w-full p-0 bg-transparent border-0 text-gray-800 focus:ring-0" type="text" value="${question_lower_bound}" data-hs-input-number-input onchange="question_lower_bound = parseInt(document.getElementById('lower_bound_input').value)">
    </div>
    <div class="flex flex-col -gap-y-px divide-y divide-gray-200 border-s border-gray-200">
      <button type="button" class="w-7 h-7 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-se-lg bg-gray-50 text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none" data-hs-input-number-decrement>
        <svg class="flex-shrink-0 w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/></svg>
      </button>
      <button type="button" class="w-7 h-7 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-ee-lg bg-gray-50 text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none" data-hs-input-number-increment>
        <svg class="flex-shrink-0 w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
      </button>
    </div>
  </div>
</div>`;
            lower_bound_input = `
<div class="bg-white border border-gray-200 rounded-lg mx-6" data-hs-input-number>
  <div class="w-full flex justify-between items-center gap-x-1">
    <div class="grow py-2 px-3">
      <span class="block text-xs text-gray-500">
        Bis hier hin
      </span>
      <input id="upper_bound_input" class="w-full p-0 bg-transparent border-0 text-gray-800 focus:ring-0" type="text" value="${question_upper_bound}" data-hs-input-number-input onchange="question_upper_bound = parseInt(document.getElementById('upper_bound_input').value)">
    </div>
    <div class="flex flex-col -gap-y-px divide-y divide-gray-200 border-s border-gray-200">
      <button type="button" class="w-7 h-7 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-se-lg bg-gray-50 text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none" data-hs-input-number-decrement>
        <svg class="flex-shrink-0 w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/></svg>
      </button>
      <button type="button" class="w-7 h-7 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-ee-lg bg-gray-50 text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none" data-hs-input-number-increment>
        <svg class="flex-shrink-0 w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
      </button>
    </div>
  </div>
</div>`;
        }

        document.getElementById("content_component").innerHTML = `
<div class="flex flex-col" style="max-height: 80vh;">
    <div class="text-5xl font-extrabold pb-3">Vokabel Liste</div>
    <div class="flex flex-col">
        <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
            onclick="${previous_function}()">Zurück
        </button>
        <div class="flex flex-row justify-center pt-6">
        ${upper_bound_input}
        ${lower_bound_input}
        </div>
    </div>
    <div class="grid grid-cols-3 justify-items-start overflow-y-auto mt-5">
        ${word_list}
    </div>
</div>`;
    }

    var correct_answer = -1;
    var currently_checking_previous_mistake = false;

    function get_new_exercise() {
        let questions = "";
        let answers = [];
        let previously_wrong_warning = "";

        if (Math.floor(Math.random() * 100) > 90 && statistics["current_mistakes"].length > 0) {
            currently_checking_previous_mistake = true;
            correct_answer = statistics["current_mistakes"].shift();
            previously_wrong_warning = `<div class="absolute top-0 right-0 text-black text-xl font-extrabold mt-10 mr-6 p-2 rounded-lg bg-red-400">Vorheriger Fehler</div>`;
        } else {
            currently_checking_previous_mistake = false;

            // select one random question
            correct_answer = get_random_question();
        }
        answers.push(correct_answer);

        // select 3 random answers
        while (answers.length < 4) {
            let random_answer = get_random_question();
            if (!answers.includes(random_answer)) {
                answers.push(random_answer);
            }
        }

        // shuffle answers
        answers = shuffle(answers);

        // generate questions html
        for (let i = 0; i < answers.length; i++) {
            questions += get_radio_element(answers[i]);
        }

        template = `
<div class="absolute top-0 left-0 grid gap-6 grid-cols-3 w-full px-8">
<div id="correct_display" class=" bg-green-400 font-extrabold text-xl rounded-lg">${statistics["correct"].toString().padStart(3, "0")}</div>
<div id="wrong_display" class="bg-red-400 font-extrabold text-xl rounded-lg">${statistics["wrong"].toString().padStart(3, "0")}</div>
<div id="total_display" class="bg-gray-400 font-extrabold text-xl rounded-lg">${(statistics["correct"] + statistics["wrong"]).toString().padStart(3, "0")}</div>
</div>
${previously_wrong_warning}
<h3 class="${currently_checking_previous_mistake ? 'mt-9' : 'mt-3'} mb-7 font-extrabold text-gray-900 text-5xl">${latin_data[correct_answer][0]}</h3>
<ul class="w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg">
    ${questions}
</ul>
<div class="flex flex-col justify-items-center">
    <button id="check_answer_button" class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
        onclick="check_answer()">Bestätigen
    </button>
    <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
        onclick="display_main_menu()">Zurück
    </button>
</div>
`
        return template;
    }

    function get_radio_element(id) {
        return `
<li class="w-full border-b border-gray-200 rounded-t-lg dark:border-gray-600">
    <div id="${id}_container" class="flex items-center pl-3 p-2">
        <input id="${id}" type="radio" value="" name="list-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
        <label for="${id}" class="w-full py-3 ml-2 text-lg font-semibold text-gray-900">${latin_data[id][1]}</label>
     </div>
</li>`
    }

    function get_random_question() {
        return Math.floor(Math.random() * (question_upper_bound - question_lower_bound + 1)) + question_lower_bound;
    }

    function set_list_item_as_correct_answer(id) {
        document.getElementById(`${id}_container`).classList.add("bg-green-500");
    }

    function set_list_item_as_wrong_answer(id) {
        document.getElementById(`${id}_container`).classList.add("bg-red-500");
    }

    function update_statistics_answer(correct) {
        if (correct) {
            statistics["correct"] += 1;
            if (Object.keys(statistics["per_word"]).includes(correct_answer.toString())) {
                statistics["per_word"][correct_answer][0] += 1;
            } else {
                statistics["per_word"][correct_answer] = [1, 0];
            }
            document.getElementById("correct_display").textContent = statistics["correct"].toString().padStart(3, "0")
        } else {
            statistics["wrong"] += 1;
            if (Object.keys(statistics["per_word"]).includes(correct_answer.toString())) {
                statistics["per_word"][correct_answer][1] += 1;
            } else {
                statistics["per_word"][correct_answer] = [0, 1];
            }
            statistics["previous_mistakes"].push(correct_answer);
            statistics["current_mistakes"].push(correct_answer);
            document.getElementById("wrong_display").textContent = statistics["wrong"].toString().padStart(3, "0")
        }
        document.getElementById("total_display").textContent = (statistics["correct"] + statistics["wrong"]).toString().padStart(3, "0")
    }

    function check_answer() {
        let answer = parseInt(document.querySelector('input[name="list-radio"]:checked').id);

        if (answer === correct_answer) {
            set_list_item_as_correct_answer(answer);
            update_statistics_answer(true);
        } else {
            set_list_item_as_correct_answer(correct_answer);
            set_list_item_as_wrong_answer(answer);
            update_statistics_answer(false);
        }

        document.getElementById("check_answer_button").textContent = "Weiter";
        document.getElementById("check_answer_button").onclick = display_new_exercise;
    }

    // if user presses enter, click the check_answer button
    document.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            document.getElementById("check_answer_button").click();
        }
    });

</script>

<div id="background_component" class="center absolute left-0 top-0 flex h-screen w-screen justify-center bg-blue-500">
    <div class="center m-auto flex justify-center relative p-4">
        <div id="content_component" class="rounded-lg bg-indigo-400 bg-opacity-75 p-10 text-center">
        </div>
    </div>
</div>

<script>
    function display_main_menu() {
        document.getElementById("content_component").innerHTML = `
<div id="welcome_text" class="text-5xl font-extrabold pb-3">Latein Test</div>
<div class="flex flex-col">
    <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
        onclick="display_new_exercise()">Training Modus
    </button>
    <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
        onclick="display_new_vocals()">Neue Vokabel
    </button>
    <button class="px-4 py-2 mt-6 font-extrabold text-lg bg-sky-500 text-black rounded-none shadow-sm"
        onclick="display_settings()">Einstellungen
    </button>
</div>`;
    }
</script>

<style>
    .bg-animation {
        background: radial-gradient(circle, #4285f4, #0f3057);
        background-size: 200% 200%;
        animation: be_right_back_backgroundLoop 10s infinite linear;
    }

    @keyframes be_right_back_backgroundLoop {
        0% {
            background-position: 50% 50%;
            background-color: #4285f4; /* Initial blue color */
        }
        50% {
            background-position: 100% 100%;
            background-color: #0f3057; /* Darker blue color */
        }
        100% {
            background-position: 50% 50%;
            background-color: #4285f4; /* Back to initial blue color */
        }
    }
</style>

<script>
    // Apply the background animation to the component
    function be_right_back_animateBackground() {
        const component = document.getElementById('background_component');
        component.classList.add('bg-animation');
    }

    function be_right_back_animateBackground_remove() {
        const component = document.getElementById('background_component');
        component.classList.remove('bg-animation');
    }

    be_right_back_animateBackground();
</script>

<script>
    function shuffle(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex > 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [
                array[randomIndex], array[currentIndex]];
        }

        return array;
    }
</script>
</body>
</html>
